<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¢Ø²Ù…ÙˆÙ† â€“ Ø­Ø§Ù„Øª Ù¾Ø§Ø³Ø®Ù†Ø§Ù…Ù‡</title>
    <style>
        :root {
            --pink: #fa4779;
            --pink2: #ff7aa6;
            --pink-soft: rgba(250, 71, 121, 0.12);
            --bg: #f6f7fb;
            --card: #ffffff;
            --text: #0f172a;
            --border: #e5e7eb;
            --correct: #7fd1b9;
        }
        body.dark {
            --bg: #0b1020;
            --card: #131a33;
            --text: #e5e7eb;
            --border: #263056;
        }
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        .theme-toggle {
            position: fixed;
            top: 14px;
            left: 14px;
            width: 38px;
            height: 38px;
            border-radius: 12px;
            background: var(--card);
            border: 1px solid var(--border);
            cursor: pointer;
            z-index: 10;
        }
        .wrapper {
            max-width: 1200px;
            margin: 70px auto;
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 26px;
        }
        .card, .sheet {
            background: var(--card);
            border-radius: 28px;
            padding: 28px;
            box-shadow: 0 25px 55px rgba(0, 0, 0, 0.18);
        }
        .progress-wrap {
            height: 12px;
            background: linear-gradient(90deg, #eee, #ddd);
            border-radius: 999px;
            overflow: hidden;
            margin-bottom: 28px;
        }
        .progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(135deg, var(--pink), var(--pink2));
            transition: .4s;
        }
        .question {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 28px;
        }
        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }
        .option {
            padding: 18px;
            border-radius: 22px;
            border: 1px solid var(--border);
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            transition: background .3s, border-color .3s;
        }
        .option:hover {
            background: var(--pink-soft);
            border-color: var(--pink);
        }
        .next {
            margin-top: 28px;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 22px;
            background: linear-gradient(135deg, var(--pink), var(--pink2));
            color: #fff;
            cursor: pointer;
            display: none;
            font-size: 16px;
            transition: background .3s;
        }
        .next:hover {
            background: var(--pink2);
        }
        .sheet {
            max-height: 620px;
            overflow: auto;
        }
        .sheet-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 14px;
        }
        .sheet-cell {
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 12px;
            display: grid;
            grid-template-columns: 32px 1fr;
            gap: 10px;
        }
        .sheet-cell.active {
            border-color: var(--pink);
            box-shadow: 0 0 0 3px var(--pink-soft);
        }
        .answers {
            display: flex;
            justify-content: space-between;
        }
        .bubble {
            width: 32px;
            height: 32px;
            border-radius: 999px;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 13px;
        }
        .correct {
            background: var(--correct);
            color: #fff;
            border: none;
        }
        .wrong {
            background: var(--pink);
            color: #fff;
            border: none;
        }
        .result {
            text-align: center;
            margin-top: 40px;
        }
        .score {
            font-size: 48px;
            font-weight: 900;
            color: var(--pink);
        }
        .desc {
            margin-top: 10px;
            font-size: 20px;
            font-weight: 600;
        }
        .print {
            margin-top: 24px;
            padding: 14px 34px;
            border-radius: 999px;
            border: none;
            background: #111;
            color: #fff;
            cursor: pointer;
            font-size: 15px;
            transition: background .3s;
        }
        .print:hover {
            background: #333;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .table th, .table td {
            border: 1px solid var(--border);
            padding: 10px;
            text-align: center;
        }
        .table th {
            background: var(--pink);
            color: #fff;
        }
        .table td.correct {
            background: #7fd1b9;
        }
        .table td.wrong {
            background: #fa4779;
        }
        @media print {
            .theme-toggle, .next { display: none; }
            body { background: #fff; }
        }
        .quizly-logo{
  position: fixed;
  top: 16px;
  right: 18px;
  z-index: 999;
}

.quizly-logo img{
  width: 74px; /* Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…Ù†Ø·Ù‚ÛŒØŒ Ù†Ù‡ Ø±ÛŒØ² Ù†Ù‡ Ú¯Ù†Ø¯Ù‡ */
  cursor: pointer;
  animation: quizlyFloat 4s ease-in-out infinite;
  filter: drop-shadow(0 10px 28px rgba(250,71,121,.55));
  transition: transform .35s ease, filter .35s ease;
}

.quizly-logo img:hover{
  transform: scale(1.12) rotate(3deg);
  filter: drop-shadow(0 16px 40px rgba(250,71,121,.85));
}

@keyframes quizlyFloat{
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

    </style>
</head>
<body>
<div class="quizly-logo">
  <img src="https://uploadkon.ir/uploads/7e2d29_25Quizly.png" alt="Quizly Logo">
</div>

<button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>

<div class="wrapper">
    <div class="card">
        <div class="progress-wrap">
            <div class="progress" id="progress"></div>
        </div>
        <div id="quiz"></div>
        <button class="next" id="nextBtn" onclick="next()">Ø¨Ø¹Ø¯ÛŒ</button>
        <div class="result" id="result"></div>
    </div>
    <div class="sheet">
        <div class="sheet-grid" id="sheet"></div>
    </div>
</div>

<script>
const questions = [
  {q:"Ú©Ø¯Ø§Ù…ÛŒÚ© Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ Ø°ÛŒÙ„ Ø¯Ø± Ø­ÛŒØ·Ù‡ Ø§Ø¯Ø±Ø§Ú©ÛŒ Ø¨ÛŒÙ† Ù…Ø±Ø§Ø¬Ø¹ Ùˆ Ù…Ø´Ø§ÙˆØ± Ù…ÛŒ Ø¨Ø§Ø´Ø¯ØŸ",options:["Ø³Ù„Ø§Ù…Øª Ø°Ù‡Ù†ÛŒ Ùˆ Ø°Ù‡Ù†ÛŒ Ø¯Ø±Ù…Ø§Ù†Ú¯Ø±Ø§Ù† Ùˆ Ù…Ø´Ø§ÙˆØ±Ø§Ù†","Ù…Ø´Ø§ÙˆØ±Ø§Ù† Ùˆ Ø¯Ø±Ù…Ø§Ù†Ú¯Ø±Ø§Ù† ÛŒØ§Ø¯Ú¯ÛŒØ±Ù†Ø¯Ú¯Ø§Ù† Ú†Ø±ÛŒÚ©ÛŒ Ù‡Ø³ØªÙ†Ø¯","Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ù‡Ø§ÛŒ Ø¹Ø§Ø·ÙÛŒ","Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ù‡Ø§Ø±Øª Ù‡Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ø§Ø³ØªØ«Ù†Ø§ÛŒÛŒ"],answer:3},
  {q:"Ú©Ø¯Ø§Ù…ÛŒÚ© Ø§Ø² Ø±ÙˆÛŒÚ©Ø±Ø¯Ù‡Ø§ÛŒ Ø²ÛŒØ± Ù†Ø¸Ø§Ù…â€ŒØ¯Ø§Ø± Ùˆ Ù…Ù†Ø·Ù‚ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù‡ÙˆÛŒØª Ø¢Ù† Ø§Ø®ØªØµØ§Øµ Ø¨Ù‡ Ù…Ú©ØªØ¨ Ø®Ø§ØµÛŒ Ù†Ø¯Ø§Ø±Ø¯ØŸ",options:["Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø§Ù„ØªÙ‚Ø§Ø·ÛŒ","Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø±ÙØªØ§Ø±ÛŒ","Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø´Ù†Ø§Ø®ØªÛŒ","Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø¯Ø±Ù…Ø§Ù†ÛŒ"],answer:0},
  {q:"Ø¯Ø± Ú©Ø¯Ø§Ù… Ø¬Ù„Ø³Ù‡ Ø¯Ø±Ù…Ø§Ù†ÛŒ Ù…Ø§Ù‡ÛŒØª Ù…Ø­Ø±Ù…Ø§Ù†Ù‡ Ø¨ÙˆØ¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‡ Ø¯Ø±Ù…Ø§Ù†Ø¬ÙˆÛŒØ§Ù† Ø¨ÛŒØ§Ù† Ù…ÛŒ Ø´ÙˆØ¯ØŸ",options:["Ù†Ø®Ø³ØªÛŒÙ† Ø¬Ù„Ø³Ø§Øª","Ø¬Ù„Ø³Ø§Øª Ù…Ø¨Ø§Ù†ÛŒ","Ø¬Ù„Ø³Ø§Øª Ù¾Ø§ÛŒØ§Ù†ÛŒ","Ø¬Ù„Ø³Ù‡ Ø´Ø´Ù…"],answer:0},
  {q:"Ø¯Ø± Ú©Ø¯Ø§Ù… Ù…Ú©Ø§Ù†ÛŒØ³Ù… Ø¯ÙØ§Ø¹ÛŒ ØªÚ©Ø§Ù†Ù‡ Ù‡Ø§ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ù‡ Ù‡Ø§ÛŒ Ù†Ø§Ù¾Ø³Ù†Ø¯ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù‚Ø¨ÙˆÙ„ Ø¬Ø§Ù…Ø¹Ù‡ Ø¯Ø± Ù…ÛŒâ€ŒØ¢ÛŒØ¯ØŸ",options:["ÙˆØ§Ú©Ù†Ø´â€ŒØ³Ø§Ø²ÛŒ","ØªØµØ¹ÛŒØ¯","Ø§Ù†Ú©Ø§Ø±","Ø¨Ø§Ø²Ú¯Ø´Øª"],answer:0},
  {q:"Ø¯Ø± Ú©Ø¯Ø§Ù… Ù…Ø±Ø­Ù„Ù‡ Ø§Ø² Ù…Ø±Ø§Ø­Ù„ Ø±ÙˆØ§Ù†ÛŒ-Ø¬Ù†Ø³ÛŒ ÙØ±ÙˆÛŒØ¯ Ø¨Ø± Ø±ÙˆÛŒ Ø¢Ù„Øª ØªÙ†Ø§Ø³Ù„ÛŒ ÙˆÛŒ Ù…ØªÙ…Ø±Ú©Ø² Ù…ÛŒ Ø´ÙˆØ¯ØŸ",options:["Ù…Ø±Ø­Ù„Ù‡ Ø¯Ù‡Ø§Ù†ÛŒ","Ù…Ø±Ø­Ù„Ù‡ Ù…Ù‚Ø¹Ø¯ÛŒ","Ù…Ø±Ø­Ù„Ù‡ Ø¢Ù„ØªÛŒ","Ù…Ø±Ø­Ù„Ù‡ Ù†Ù‡ÙØªÚ¯ÛŒ"],answer:2},
  {q:"Ø¯Ø± Ø¯Ø±Ù…Ø§Ù† Ú©Ø¯Ø§Ù… ÛŒÚ© Ø§Ø² Ø§Ø®ØªÙ„Ø§Ù„Ø§Øª Ø°ÛŒÙ„ IPT Ù…ÙˆØ«Ø± Ø§Ø³ØªØŸ",options:["Ø§Ø®ØªÙ„Ø§Ù„Ø§Øª Ø¯ÙˆÙ‚Ø·Ø¨ÛŒ","Ø§Ø³Ú©ÛŒØ²ÙˆÙØ±Ù†ÛŒ","Ø§Ø®ØªÙ„Ø§Ù„Ø§Øª Ø§Ø¶Ø·Ø±Ø§Ø¨ÛŒ","Ø§Ø®ØªÙ„Ø§Ù„Ø§Øª Ø®ÙˆØ±Ø¯Ù†"],answer:3},
  {q:"Ø¬Ù‡Øª Ø´ÙˆØ±Ø§Ù‡Ø§ÛŒ Ø­Ù„ Ø§Ø®ØªÙ„Ø§Ù Ùˆ Ø³Ø§Ø²Ù…Ø§Ù† Ù…Ø´ÙˆØ±ØªÛŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø§Ø² Ú©Ø¯Ø§Ù… Ø¯Ø±Ù…Ø§Ù† ÛŒØ§ Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯ØŸ",options:["Ø¯Ø±Ù…Ø§Ù† Ø´Ø®Øµâ€ŒÙ…Ø­ÙˆØ±","Ø±ÙØªØ§Ø±Ú¯Ø±Ø§ÛŒÛŒ","Ø±ÙˆØ§Ù†Ú©Ø§ÙˆÛŒ","Ø´Ù†Ø§Ø®Øªâ€ŒÚ¯Ø±Ø§ÛŒÛŒ"],answer:0},
  {q:"Ø¯Ø± Ú©Ø¯Ø§Ù…ÛŒÚ© Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø§ÙØ±Ø§Ø¯ Ú©Ø§Ù…Ù„ Ùˆ Ø®ÙˆØ¯Ø´Ú©ÙˆÙØ§ Ù‡Ø³ØªÙ†Ø¯ØŸ",options:["ØªÙˆØ§Ù†Ø§ÛŒÛŒ ÙØ±Ø¯ Ø¨Ù‡ ØºÙ†ÛŒ Ú©Ø±Ø¯Ù† Ø²Ù†Ø¯Ú¯ÛŒ","Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ø§Ø±Ú¯Ø§Ù†ÛŒØ³Ù… ÙØ±Ø¯","Ø§Ø­Ø³Ø§Ø³ Ø¢Ø²Ø§Ø¯ÛŒ","Ø¢Ú¯Ø§Ù‡ÛŒ Ø§Ø² Ù‡Ù…Ù‡ ØªØ¬Ø±Ø¨Ù‡â€ŒÙ‡Ø§"],answer:3},
  {q:"Ø§ÙØ±Ø§Ø¯ Ø¯Ø± Ú©Ø¯Ø§Ù… Ù…Ø±Ø­Ù„Ù‡ Ø§Ø² Ø±Ø´Ø¯ ØªØºÛŒÛŒØ± Ú†Ø´Ù…â€ŒÚ¯ÛŒØ± Ùˆ Ø­Ø±Ú©ØªÛŒ Ø¨Ø±Ú¯Ø´Øªâ€ŒÙ†Ø§Ù¾Ø°ÛŒØ± Ø±Ø§ ØªØ¬Ø±Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŸ",options:["ØªØºÛŒÛŒØ± Ø¯Ø± Ø±ÙˆØ´ Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø±Ø§Ø¨Ø·Ù‡ Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù†","ØªØºÛŒÛŒØ± Ø¯Ø± Ø±ÙˆØ§Ø¨Ø· ÙØ±Ø¯ÛŒ Ø®ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„","ØªØºÛŒÛŒØ± Ø¯Ø± Ø±ÙˆØ´ Ùˆ Ú¯Ø³ØªØ±Ø´ Ø§Ù†ØªÙ‚Ø§Ù„","ØªØºÛŒÛŒØ± Ø§Ø² Ù‡Ù…Ø®ÙˆØ§Ù†ÛŒ"],answer:3},
  {q:"Ø¯Ø± Ú©Ø¯Ø§Ù… Ø¬Ù†Ø¨Ù‡â€ŒÙ‡Ø§ Ú†Ø§Ù„Ø´ Ø¨Ø§ Ù…Ø­ÛŒØ· Ø¨Ù‡ ØµÙˆØ±Øª Ù‡Ø¯Ùâ€ŒØ¯Ø§Ø± Ú©Ø³Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",options:["Ø¬Ù†Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ú¯Ø±Ø´","Ø¬Ù†Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¬Ø±Ø¨ÛŒ","Ø¬Ù†Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ù„Ø§Ù‚","Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯"],answer:3},
  {q:"Ø§Ø² Ù†Ø¸Ø± ÙØ±ÙˆÛŒØ¯ Ú©Ø¯Ø§Ù… ÛŒÚ© Ø§Ø² Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø´Ø®ØµÛŒØª Ø¨Ø®Ø´ Ø¨Ø³ÛŒØ§Ø± Ú©ÙˆÚ†Ú©ÛŒ Ø±Ø§ ØªØ´Ú©ÛŒÙ„ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŸ",options:["Ù‡Ø´ÛŒØ§Ø±ÛŒ","Ù†ÛŒÙ…Ù‡â€ŒÙ‡Ø´ÛŒØ§Ø±ÛŒ","Ù†Ø§Ù‡Ø´ÛŒØ§Ø±ÛŒ","Ø³ÙˆÙ¾Ø±Ø§ÛŒÚ¯Ùˆ"],answer:0},
  {q:"Ú©Ø¯Ø§Ù… Ù…Ú©Ø§Ù†ÛŒØ³Ù… Ø¯ÙØ§Ø¹ÛŒ Ø¨Ù‡ Ø¨Ø®Ø´ Ù†Ø§Ù‡Ø´ÛŒØ§Ø± Ø±Ø§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¨Ù‡ Ø´Ú©Ù„ Ø´ÙˆØ®ÛŒØŒ Ù„ØºØ²Ø´â€ŒÙ‡Ø§ÛŒ Ø²Ø¨Ø§Ù†ÛŒ Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ø³Ù‡ÙˆÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŸ",options:["ÙØ±Ø§ÙÚ©Ù†ÛŒ","ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ","Ø³Ø±Ú©ÙˆØ¨ÛŒ","ÙˆØ§Ù„Ø§ÛŒØ´"],answer:2},
  {q:"Ø®ÙˆØ¯ Ø¢Ø±Ù…Ø§Ù†ÛŒØŒ ÙˆØ¬Ø¯Ø§Ù† Ø§Ø®Ù„Ø§Ù‚ÛŒ Ø´Ø§Ù…Ù„ Ú©Ø¯Ø§Ù… Ø¨Ø®Ø´ Ø±ÙˆØ§Ù†Ú©Ø§ÙˆØ§Ù† Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["ÙØ±Ø§Ø®ÙˆØ¯","Ù…Ù†","Ø®ÙˆØ¯","ÙØ±Ø§Ù…Ù†"],answer:0},
  {q:"Ø­Ø³Ø§Ø³ÛŒØª ÙØ±ÙˆÛŒØ¯ Ø§Ø² Ú©Ø¯Ø§Ù… Ø¯ÙˆØ±Ù‡ Ø§Ø² Ù…Ø±Ø§Ø­Ù„ Ø±ÙˆØ§Ù†ÛŒ-Ø¬Ù†Ø³ÛŒ Ø´Ø±ÙˆØ¹ Ùˆ ØªØ§ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ù„ÙˆØº Ø¨Ù‡ Ø·ÙˆÙ„ Ù…ÛŒâ€ŒØ§Ù†Ø¬Ø§Ù…Ø¯ØŸ",options:["Ø¯Ù‡Ø§Ù†ÛŒ","Ø¨Ù‡Ø´ØªÛŒ","ØªÙ†Ø§Ø³Ù„ÛŒ","Ø¢Ù„ØªÛŒ"],answer:0},
  {q:"Ú¯Ø±Ø§ÛŒØ´ Ú©Ø¯Ø§Ù… Ù…ÙˆØ±Ø¯ Ø²ÛŒØ± ÙØ±Ø¯ Ø±Ø§ Ø¨Ø§ Ø§Ù†Ú¯ÛŒØ²Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",options:["Ø´Ø±Ø§ÛŒØ· Ø§Ø±Ø²Ø´","Ù¾ÛŒØ¯Ø§ÛŒØ´ Ø®ÙˆØ¯","Ø´Ú©ÙˆÙØ§ Ø´Ø¯Ù†","ØªÙˆØ¬Ù‡ Ù…Ø«Ø¨Øª"],answer:2},
  {q:"Ø¨ÛŒÙ† Ø®ÙˆØ¯Ø¢Ø±Ù…Ø§Ù†ÛŒ Ùˆ Ø®ÙˆØ¯Ù¾Ù†Ø¯Ø§Ø±Ù‡ Ø¨ÛŒØ§Ù†Ú¯Ø± Ù†Ø§Ù‡Ù…Ø®ÙˆØ§Ù†ÛŒ Ùˆ Ø´Ø®ØµÛŒØª Ù†Ø§Ø³Ø§Ù„Ù… Ø§Ø³Øª.",options:["Ø­Ø§Ù„Øª Ø¯ÙØ§Ø¹ÛŒ","Ø¯Ø±Ú© Ø¢Ú¯Ø§Ù‡ÛŒ","ØªÙˆØ¬Ù‡ Ù…Ø«Ø¨Øª Ù…Ø´Ø±ÙˆØ·","Ø®ÙˆØ¯Ù¾Ù†Ø¯Ø§Ø±Ù‡"],answer:3},
  {q:"Ø§Ø² Ù†Ø¸Ø± ÙØ±Ø§Ù†Ú©Ù„ Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¬ÙˆÙ‡Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø§Ù†Ø³Ø§Ù† ØªÙˆØ³Ø· Ø¢Ù† Ø¨Ù‡ Ø­Ù‚ÛŒÙ‚Øª Ø§Ù†Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯ Ù…ÛŒâ€ŒØ±Ø³Ø¯ØŸ",options:["Ø¢Ø²Ø§Ø¯ÛŒ","Ù…Ø¹Ù†ÛŒ Ø¯Ø±Ù…Ø§Ù†ÛŒ","Ù‡Ø³ØªÛŒâ€ŒÚ¯Ø±Ø§ÛŒÛŒ","Ø¬Ù†Ø¨Ù‡ Ø®Ù„Ø§Ù‚"],answer:1},
  {q:"Ø§Ø² Ù†Ø¸Ø± ÙØ±Ø§Ù†Ú©Ù„ Ø§ÙØ±Ø§Ø¯ÛŒ Ú©Ù‡ Ù…Ø´Ú©Ù„ Ø¨Ø¯Ú©Ø§Ø±ÛŒ Ù‡ÙˆØ´ÛŒØŒ ØªØ¹Ø§Ø±Ø¶ Ø§Ø®Ù„Ø§Ù‚ÛŒ ÛŒØ§ ÛŒÚ© Ø¨Ø­Ø±Ø§Ù† ÙˆØ¬ÙˆØ¯ÛŒ Ø¯Ø§Ø±Ù†Ø¯ Ø±Ø§ Ú†Ù‡ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯ØŸ",options:["Ø¢Ø²Ø§Ø¯","Ø±ÙˆØ§Ù†â€ŒÙ¾Ø±ÛŒØ´","Ø±ÙˆØ§Ù†â€ŒØ±Ù†Ø¬ÙˆØ±","Ø´Ø§Ø¯"],answer:2},
  {q:"Ø§Ø² Ù†Ø¸Ø± Ù†Ø¸Ø±ÛŒÙ‡ Ù¾Ø±Ù„Ø²ØŒ Ù…Ù†Ø·Ù‚Ù‡ ØºÛŒØ±Ù†Ø¸Ø§Ù…ÛŒ Ø´Ø§Ù…Ù„ Ú©Ø¯Ø§Ù… Ù…ÙˆØ§Ø±Ø¯ Ø°ÛŒÙ„ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["Ø¨Ø§Ø²Ø¯Ø§Ø±ÛŒ","ØªØ¹ØµØ¨Ø§Øª","Ù¾ÛŒØ´Ø¯Ø§ÙˆØ±ÛŒ","Ú¯Ø²ÛŒÙ†Ù‡ Ø¨ Ùˆ Ø¬"],answer:3},
  {q:"Ú©Ø¯Ø§Ù… Ø¹Ø§Ù…Ù„ Ø²ÛŒØ± Ø¯Ø± Ù…ÛŒØ§Ù†Ù‡ Ù…ÛŒØ¯Ø§Ù† Ú¯Ø´ØªØ§Ù„Øª Ø¯Ø±Ù…Ø§Ù†Ú¯Ø±ÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù¾Ø®ØªÚ¯ÛŒ Ø±ÙˆØ§Ù†ÛŒ","Ø¯Ø±ÙˆÙ†â€ŒØ¨Ø§Ø´ÛŒ Ø§Ø­Ø³Ø§Ø³Ø§Øª","Ø®Ø±ÙˆØ¬ Ø§Ø² ÙØ¶Ø§ÛŒ ÙÛŒØ²ÛŒÚ©ÛŒ","ØªÙ…Ø§Ø³ Ø¨ÛŒÙ† Ù…Ø§ÛŒÙ‡ Ú©Ù…Ø§Ù„ Ùˆ Ø±Ø§Ù‡ÛŒ Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯Ù†"],answer:0},
  {q:"Ú©Ø¯Ø§Ù… ÛŒÚ© Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø¬Ø²Ø¡ Ø¹ÙˆØ§Ù…Ù„ Ù…Ø±Ø²Ù‡Ø§ÛŒ ØªÙ…Ø§Ø³ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["Ù¾Ø®ØªÚ¯ÛŒ","Ø·ÙØ±Ù‡","Ú©Ù…Ø§Ù„","Ø¢Ú¯Ø§Ù‡ÛŒ"],answer:3},
  {q:"Ú©Ø¯Ø§Ù… Ù…ÙˆØ±Ø¯ Ø°ÛŒÙ„ Ø¯Ø± Ù†Ø¸Ø±ÛŒÙ‡ Ø¨Ú© Ø¬Ø²Ø¡ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ù…Ø§Ù† Ø´Ù†Ø§Ø®ØªÛŒ-Ø±ÙØªØ§Ø±ÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["Ù…ØªÚ©ÛŒ Ø¨Ø± ÙÙ†ÙˆÙ† Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø§Ø³Øª","Ø³Ø§Ø®Øªâ€ŒØ¯Ø§Ø± Ù†Ø¨ÙˆØ¯Ù†","ØªÚ©ÛŒÙ‡ Ø¨Ø± Ù¾Ø±Ø³Ø´ Ùˆ Ù¾Ø§Ø³Ø® Ù†Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯","Ø´Ø±Ú©Øª Ø¨ÛŒÙ…Ø§Ø± Ø§Ù„Ø²Ø§Ù…ÛŒ Ù†ÛŒØ³Øª"],answer:0},
  {q:"Ø¯Ø± Ù†Ø¸Ø±ÛŒÙ‡ Ø¹Ù‚Ù„Ø§Ù†ÛŒ-Ø¹Ø§Ø·ÙÛŒ Ø¢Ù„Ø¨Ø±Øª Ø§Ù„ÛŒØ³ Ù…Ø­Ø±Ú© A Ú†ÛŒØ³ØªØŸ",options:["Ø±ÙˆÛŒØ¯Ø§Ø¯ ÙØ¹Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡","Ù‚Ø·Ø¹Ø§Ù‹ Ù¾ÛŒØ§Ù…Ø¯ Ø¯Ø§Ø±Ø¯","Ø·Ø±Ø¯ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯","Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…"],answer:0},
  {q:"Ø¢Ù„Ø¨Ø±Øª Ø§Ù„ÛŒØ³ Ù…Ø¹ØªÙ‚Ø¯ Ø§Ø³Øª ØªÙ…Ø§ÛŒÙ„ Ø§Ù†Ø³Ø§Ù† Ø¨Ù‡ Ø¨Ø§ÙˆØ±Ù‡Ø§ÛŒ Ù…Ù†Ø·Ù‚ÛŒ ÛŒØ§ ØºÛŒØ±Ù…Ù†Ø·Ù‚ÛŒ Ú†Ù‡ Ù…Ø¨Ù†Ø§ÛŒÛŒ Ø¯Ø§Ø±Ø¯ØŸ",options:["Ù…Ù†Ø·Ù‚ÛŒ","Ú˜Ù†ØªÛŒÚ©ÛŒ","Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ","Ø±ÙˆØ§Ù†ÛŒ"],answer:2},
  {q:"Ø§Ø² Ù†Ø¸Ø± Ø¨Ú© Ø¯ÙˆÙ…ÛŒÙ† Ø¹Ø§Ù…Ù„ Ø§ÙØ³Ø±Ø¯Ú¯ÛŒ Ú†Ù‡ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŸ",options:["Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø´Ù†Ø§Ø®ØªÛŒ","Ø¯ÛŒØ¯Ú¯Ø§Ù‡ ÙØ±Ø¯","Ø§Ø² Ù†Ø¸Ø± Ø²ÛŒØ³ØªÛŒ","Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯"],answer:0},
  {q:"Ø§Ù„Ø²Ø§Ø±ÙˆØ³ Ù…Ø¹ØªÙ‚Ø¯ Ø§Ø³Øª Ú©Ù‡ ÙØ´Ø§Ø± Ø±ÙˆØ§Ù†ÛŒ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ú†Ù‡ Ø¯ÛŒØ¯Ú¯Ø§Ù‡ÛŒ Ù…ÙˆØ±Ø¯ Ø¨Ø±Ø±Ø³ÛŒ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ØŸ",options:["Ú¯Ø´ØªØ§Ù„ØªÛŒ","Ø±ÙØªØ§Ø±ÛŒ","Ø±ÙˆØ§Ù†ÛŒ","Ø´Ù†Ø§Ø®ØªÛŒ"],answer:3},
  {q:"Ù…Ø¹Ù†ÛŒ Ø¯Ø±Ù…Ø§Ù†ÛŒ Ø§Ø² Ú©Ø¯Ø§Ù… Ú©Ù„Ù…Ù‡ Ù…Ø´ØªÙ‚ Ø´Ø¯Ù‡ Ø§Ø³ØªØŸ",options:["Ù„ÙˆÚ¯ÙˆØ³","Ø±Ø¶Ø§ÛŒØª","Ø³Ø§Ù†ÙˆØ³","Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯"],answer:0},
  {q:"Ø´Ø±Ø§ÛŒØ· Ø¯Ø±Ù…Ø§Ù† Ø¨Ø± Ù…Ø¨Ù†Ø§ÛŒ Ù‡Ù…Ø®ÙˆØ§Ù†ÛŒ Ø¯Ø±Ù…Ø§Ù†Ú¯Ø± ØªÙˆØ¬Ù‡ Ù…Ø«Ø¨Øª Ù†Ø§Ù…Ø´Ø±ÙˆØ· Ø±Ø§ Ú†Ù‡ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯ØŸ",options:["Ø´Ù†Ø§Ø®Øª Ø¯Ø±Ù…Ø§Ù†ÛŒ","Ø±ÙØªØ§Ø± Ø¯Ø±Ù…Ø§Ù†ÛŒ","Ø±ÙˆØ§Ù†Ø¯Ø±Ù…Ø§Ù†ÛŒ Ø±Ø§Ø¬Ø±Ø²ÛŒ","Ø¯Ø§Ø±Ùˆ Ø¯Ø±Ù…Ø§Ù†ÛŒ"],answer:2},
  {q:"Ø³ÙˆÙ…ÛŒÙ† Ø´Ø±Ø· Ù„Ø§Ø²Ù… Ùˆ Ú©Ø§ÙÛŒ Ø±Ø´Ø¯ Ø±ÙˆØ§Ù†ÛŒ Ø±Ø§ Ú†Ù‡ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯ØŸ",options:["Ù‡Ù…Ø®ÙˆØ§Ù†ÛŒ","ØªÙˆØ¬Ù‡ Ù…Ø«Ø¨Øª Ù†Ø§Ù…Ø´Ø±ÙˆØ·","Ø§Ø¯Ø±Ø§Ú© Ø¯Ø±Ù…Ø§Ù†Ø¬Ùˆ","Ú¯ÙˆØ´ Ú©Ø±Ø¯Ù† Ù‡Ù…Ø¯Ù„Ø§Ù†Ù‡"],answer:3},
  {q:"Ø¹Ø±ÛŒØ§Ù† Ù†Ù…ÙˆØ¯Ù† Ù†Ø§Ù‡Ø´ÛŒØ§Ø±ÛŒ Ø¨ÛŒÙ…Ø§Ø± Ø±Ø§ Ú†Ù‡ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯ØŸ",options:["Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ø«Ø¨Øª","ØªØ¹Ø¨ÛŒØ± Ùˆ ØªÙØ³ÛŒØ±","Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ù†ÙÛŒ","Ø§Ù†ØªÙ‚Ø§Ù„ Ù…ØªÙ‚Ø§Ø¨Ù„"],answer:1}
];
    let index = 0;
    let correctCount = 0;
    const userAnswers = Array(questions.length).fill(null);

    const quiz = document.getElementById("quiz");
    const sheet = document.getElementById("sheet");
    const nextBtn = document.getElementById("nextBtn");
    const progress = document.getElementById("progress");

    function render() {
        const q = questions[index];
        quiz.innerHTML = `
            <div class="question">${q.q}</div>
            <div class="options">
                ${q.options.map((o, i) => `<div class="option" onclick="select(${i})">${o}</div>`).join("")}
            </div>`;
        nextBtn.style.display = "none";
        updateProgress();
        renderSheet();
    }

    function updateProgress() {
        progress.style.width = `${(index / questions.length) * 100}%`;
    }

    function renderSheet() {
        sheet.innerHTML = questions.map((q, i) => {
            const ua = userAnswers[i];
            return `
                <div class="sheet-cell ${i === index ? "active" : ""}">
                    <b>${i + 1}</b>
                    <div class="answers">
                        ${["Ø§Ù„Ù", "Ø¨", "Ø¬", "Ø¯"].map((l, j) => {
                            let c = "";
                            if (ua !== null) {
                                c = j === q.answer ? "correct" : (j === ua ? "wrong" : "");
                            }
                            return `<div class="bubble ${c}">${l}</div>`;
                        }).join("")}
                    </div>
                </div>`;
        }).join("");
    }

    function select(i) {
        if (userAnswers[index] !== null) return;
        userAnswers[index] = i;
        if (i === questions[index].answer) correctCount++;
        nextBtn.style.display = "block";
        renderSheet();
    }

    function next() {
        index++;
        if (index < questions.length) {
            render();
        } else {
            finish();
        }
    }

    function finish() {
        progress.style.width = "100%";
        const totalQuestions = questions.length;
        const grade = ((correctCount / totalQuestions) * 20).toFixed(2);
        const percentage = ((correctCount / totalQuestions) * 100).toFixed(2);
        const answeredQuestions = userAnswers.filter(answer => answer !== null).length;
        let desc = "";

        if (grade >= 18) desc = "Ø¹Ø§Ù„ÛŒ Ùˆ Ù…Ø³Ù„Ø·";
        else if (grade >= 15) desc = "Ø®ÙˆØ¨";
        else if (grade >= 12) desc = "Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„";
        else desc = "Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø±ÛŒÙ† Ø¬Ø¯ÛŒ";

        quiz.innerHTML = `
            <div class="score">${grade} / Û²Û°</div>
            <div class="desc">${desc}</div>
            <div>Ø´Ù…Ø§ ${answeredQuestions} Ø§Ø² ${totalQuestions} Ø³ÙˆØ§Ù„ Ø±Ø§ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯. (${percentage}%)</div>
            <button class="print" onclick="openPrintWindow()">Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¬Ù‡Øª Ú†Ø§Ù¾</button>
        `;
    }

    function openPrintWindow() {
        const printWindow = window.open('', '_blank');
        printWindow.document.write(`
            <html lang="fa" dir="rtl">
            <head>
                <meta charset="UTF-8">
                <title>Ù†ØªÛŒØ¬Ù‡ Ø¢Ø²Ù…ÙˆÙ†</title>
                <style>
                    body { font-family: 'Vazirmatn', Tahoma, sans-serif; direction: rtl; }
                    .result { text-align: center; margin: 20px; }
                    .table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    .table th, .table td { border: 1px solid #ddd; padding: 10px; text-align: center; }
                    .table th { background: var(--pink); color: #fff; }
                    .table td.correct { background: #7fd1b9; }
                    .table td.wrong { background: #fa4779; }
                </style>
            </head>
            <body>
                <div class="result">
                    <h1>Ù†ØªÛŒØ¬Ù‡ Ø¢Ø²Ù…ÙˆÙ†</h1>
                    <div class="score">${(correctCount / questions.length * 20).toFixed(2)} / Û²Û°</div>
                    <div>Ø´Ù…Ø§ ${userAnswers.filter(answer => answer !== null).length} Ø§Ø² ${questions.length} Ø³ÙˆØ§Ù„ Ø±Ø§ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯.</div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ø³ÙˆØ§Ù„</th>
                                <th>Ù¾Ø§Ø³Ø® Ø´Ù…Ø§</th>
                                <th>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${questions.map((q, i) => `
                                <tr>
                                    <td>${q.q}</td>
                                    <td class="${userAnswers[i] === q.answer ? 'correct' : 'wrong'}">${["Ø§Ù„Ù", "Ø¨", "Ø¬", "Ø¯"][userAnswers[i]] || 'Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡'}</td>
                                    <td>${["Ø§Ù„Ù", "Ø¨", "Ø¬", "Ø¯"][q.answer]}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </body>
            </html>
        `);
        printWindow.document.close();
        printWindow.focus();
        printWindow.print();
        printWindow.close();
    }

    function toggleTheme() {
        document.body.classList.toggle("dark");
    }

    render();
</script>

</body>
</html>
